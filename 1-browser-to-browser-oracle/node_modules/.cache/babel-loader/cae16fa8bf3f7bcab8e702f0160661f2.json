{"ast":null,"code":"/**\n *\n * This file is auto-generated. Do not edit manually: changes may be erased.\n * Generated by Aqua compiler: https://github.com/fluencelabs/aqua/.\n * If you find any bugs, please write an issue on GitHub: https://github.com/fluencelabs/aqua/issues\n * Aqua version: 0.7.2-314\n *\n */\nimport { callFunction, registerService } from '@fluencelabs/fluence/dist/internal/compilerSupport/v3'; // Services\n\nexport function registerHelloPeer() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  registerService(args, {\n    \"defaultServiceId\": \"HelloPeer\",\n    \"functions\": {\n      \"tag\": \"labeledProduct\",\n      \"fields\": {\n        \"hello\": {\n          \"tag\": \"arrow\",\n          \"domain\": {\n            \"tag\": \"labeledProduct\",\n            \"fields\": {\n              \"from\": {\n                \"tag\": \"scalar\",\n                \"name\": \"string\"\n              }\n            }\n          },\n          \"codomain\": {\n            \"tag\": \"unlabeledProduct\",\n            \"items\": [{\n              \"tag\": \"scalar\",\n              \"name\": \"string\"\n            }]\n          }\n        }\n      }\n    }\n  });\n} // Functions\n\nexport function sayHello() {\n  let script = `\n                    (xor\n                     (seq\n                      (seq\n                       (seq\n                        (seq\n                         (seq\n                          (seq\n                           (call %init_peer_id% (\"getDataSrv\" \"-relay-\") [] -relay-)\n                           (call %init_peer_id% (\"getDataSrv\" \"targetPeerId\") [] targetPeerId)\n                          )\n                          (call %init_peer_id% (\"getDataSrv\" \"targetRelayPeerId\") [] targetRelayPeerId)\n                         )\n                         (call -relay- (\"op\" \"noop\") [])\n                        )\n                        (call targetRelayPeerId (\"op\" \"noop\") [])\n                       )\n                       (xor\n                        (seq\n                         (seq\n                          (call targetPeerId (\"HelloPeer\" \"hello\") [%init_peer_id%] res)\n                          (call targetRelayPeerId (\"op\" \"noop\") [])\n                         )\n                         (call -relay- (\"op\" \"noop\") [])\n                        )\n                        (seq\n                         (seq\n                          (call targetRelayPeerId (\"op\" \"noop\") [])\n                          (call -relay- (\"op\" \"noop\") [])\n                         )\n                         (call %init_peer_id% (\"errorHandlingSrv\" \"error\") [%last_error% 1])\n                        )\n                       )\n                      )\n                      (xor\n                       (call %init_peer_id% (\"callbackSrv\" \"response\") [res])\n                       (call %init_peer_id% (\"errorHandlingSrv\" \"error\") [%last_error% 2])\n                      )\n                     )\n                     (call %init_peer_id% (\"errorHandlingSrv\" \"error\") [%last_error% 3])\n                    )\n    `;\n\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return callFunction(args, {\n    \"functionName\": \"sayHello\",\n    \"arrow\": {\n      \"tag\": \"arrow\",\n      \"domain\": {\n        \"tag\": \"labeledProduct\",\n        \"fields\": {\n          \"targetPeerId\": {\n            \"tag\": \"scalar\",\n            \"name\": \"string\"\n          },\n          \"targetRelayPeerId\": {\n            \"tag\": \"scalar\",\n            \"name\": \"string\"\n          }\n        }\n      },\n      \"codomain\": {\n        \"tag\": \"unlabeledProduct\",\n        \"items\": [{\n          \"tag\": \"scalar\",\n          \"name\": \"string\"\n        }]\n      }\n    },\n    \"names\": {\n      \"relay\": \"-relay-\",\n      \"getDataSrv\": \"getDataSrv\",\n      \"callbackSrv\": \"callbackSrv\",\n      \"responseSrv\": \"callbackSrv\",\n      \"responseFnName\": \"response\",\n      \"errorHandlingSrv\": \"errorHandlingSrv\",\n      \"errorFnName\": \"error\"\n    }\n  }, script);\n}","map":{"version":3,"names":["callFunction","registerService","registerHelloPeer","args","sayHello","script"],"sources":["/Users/mgrok/Projects/fluence-projects/examples/quickstart/1-browser-to-browser/src/_aqua/getting-started.ts"],"sourcesContent":["/**\n *\n * This file is auto-generated. Do not edit manually: changes may be erased.\n * Generated by Aqua compiler: https://github.com/fluencelabs/aqua/.\n * If you find any bugs, please write an issue on GitHub: https://github.com/fluencelabs/aqua/issues\n * Aqua version: 0.7.2-314\n *\n */\nimport { Fluence, FluencePeer } from '@fluencelabs/fluence';\nimport {\n    CallParams,\n    callFunction,\n    registerService,\n} from '@fluencelabs/fluence/dist/internal/compilerSupport/v3';\n\n\n// Services\n\nexport interface HelloPeerDef {\n    hello: (from: string, callParams: CallParams<'from'>) => string | Promise<string>;\n}\nexport function registerHelloPeer(service: HelloPeerDef): void;\nexport function registerHelloPeer(serviceId: string, service: HelloPeerDef): void;\nexport function registerHelloPeer(peer: FluencePeer, service: HelloPeerDef): void;\nexport function registerHelloPeer(peer: FluencePeer, serviceId: string, service: HelloPeerDef): void;\n       \n\nexport function registerHelloPeer(...args: any) {\n    registerService(\n        args,\n        {\n    \"defaultServiceId\" : \"HelloPeer\",\n    \"functions\" : {\n        \"tag\" : \"labeledProduct\",\n        \"fields\" : {\n            \"hello\" : {\n                \"tag\" : \"arrow\",\n                \"domain\" : {\n                    \"tag\" : \"labeledProduct\",\n                    \"fields\" : {\n                        \"from\" : {\n                            \"tag\" : \"scalar\",\n                            \"name\" : \"string\"\n                        }\n                    }\n                },\n                \"codomain\" : {\n                    \"tag\" : \"unlabeledProduct\",\n                    \"items\" : [\n                        {\n                            \"tag\" : \"scalar\",\n                            \"name\" : \"string\"\n                        }\n                    ]\n                }\n            }\n        }\n    }\n}\n    );\n}\n      \n// Functions\n \n\nexport function sayHello(\n    targetPeerId: string,\n    targetRelayPeerId: string,\n    config?: {ttl?: number}\n): Promise<string>;\n\nexport function sayHello(\n    peer: FluencePeer,\n    targetPeerId: string,\n    targetRelayPeerId: string,\n    config?: {ttl?: number}\n): Promise<string>;\n\nexport function sayHello(...args: any) {\n\n    let script = `\n                    (xor\n                     (seq\n                      (seq\n                       (seq\n                        (seq\n                         (seq\n                          (seq\n                           (call %init_peer_id% (\"getDataSrv\" \"-relay-\") [] -relay-)\n                           (call %init_peer_id% (\"getDataSrv\" \"targetPeerId\") [] targetPeerId)\n                          )\n                          (call %init_peer_id% (\"getDataSrv\" \"targetRelayPeerId\") [] targetRelayPeerId)\n                         )\n                         (call -relay- (\"op\" \"noop\") [])\n                        )\n                        (call targetRelayPeerId (\"op\" \"noop\") [])\n                       )\n                       (xor\n                        (seq\n                         (seq\n                          (call targetPeerId (\"HelloPeer\" \"hello\") [%init_peer_id%] res)\n                          (call targetRelayPeerId (\"op\" \"noop\") [])\n                         )\n                         (call -relay- (\"op\" \"noop\") [])\n                        )\n                        (seq\n                         (seq\n                          (call targetRelayPeerId (\"op\" \"noop\") [])\n                          (call -relay- (\"op\" \"noop\") [])\n                         )\n                         (call %init_peer_id% (\"errorHandlingSrv\" \"error\") [%last_error% 1])\n                        )\n                       )\n                      )\n                      (xor\n                       (call %init_peer_id% (\"callbackSrv\" \"response\") [res])\n                       (call %init_peer_id% (\"errorHandlingSrv\" \"error\") [%last_error% 2])\n                      )\n                     )\n                     (call %init_peer_id% (\"errorHandlingSrv\" \"error\") [%last_error% 3])\n                    )\n    `\n    return callFunction(\n        args,\n        {\n    \"functionName\" : \"sayHello\",\n    \"arrow\" : {\n        \"tag\" : \"arrow\",\n        \"domain\" : {\n            \"tag\" : \"labeledProduct\",\n            \"fields\" : {\n                \"targetPeerId\" : {\n                    \"tag\" : \"scalar\",\n                    \"name\" : \"string\"\n                },\n                \"targetRelayPeerId\" : {\n                    \"tag\" : \"scalar\",\n                    \"name\" : \"string\"\n                }\n            }\n        },\n        \"codomain\" : {\n            \"tag\" : \"unlabeledProduct\",\n            \"items\" : [\n                {\n                    \"tag\" : \"scalar\",\n                    \"name\" : \"string\"\n                }\n            ]\n        }\n    },\n    \"names\" : {\n        \"relay\" : \"-relay-\",\n        \"getDataSrv\" : \"getDataSrv\",\n        \"callbackSrv\" : \"callbackSrv\",\n        \"responseSrv\" : \"callbackSrv\",\n        \"responseFnName\" : \"response\",\n        \"errorHandlingSrv\" : \"errorHandlingSrv\",\n        \"errorFnName\" : \"error\"\n    }\n},\n        script\n    )\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAEIA,YAFJ,EAGIC,eAHJ,QAIO,uDAJP,C,CAOA;;AAWA,OAAO,SAASC,iBAAT,GAAyC;EAAA,kCAAXC,IAAW;IAAXA,IAAW;EAAA;;EAC5CF,eAAe,CACXE,IADW,EAEX;IACJ,oBAAqB,WADjB;IAEJ,aAAc;MACV,OAAQ,gBADE;MAEV,UAAW;QACP,SAAU;UACN,OAAQ,OADF;UAEN,UAAW;YACP,OAAQ,gBADD;YAEP,UAAW;cACP,QAAS;gBACL,OAAQ,QADH;gBAEL,QAAS;cAFJ;YADF;UAFJ,CAFL;UAWN,YAAa;YACT,OAAQ,kBADC;YAET,SAAU,CACN;cACI,OAAQ,QADZ;cAEI,QAAS;YAFb,CADM;UAFD;QAXP;MADH;IAFD;EAFV,CAFW,CAAf;AAgCH,C,CAED;;AAgBA,OAAO,SAASC,QAAT,GAAgC;EAEnC,IAAIC,MAAM,GAAI;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzCI;;EAFmC,mCAAXF,IAAW;IAAXA,IAAW;EAAA;;EA4CnC,OAAOH,YAAY,CACfG,IADe,EAEf;IACJ,gBAAiB,UADb;IAEJ,SAAU;MACN,OAAQ,OADF;MAEN,UAAW;QACP,OAAQ,gBADD;QAEP,UAAW;UACP,gBAAiB;YACb,OAAQ,QADK;YAEb,QAAS;UAFI,CADV;UAKP,qBAAsB;YAClB,OAAQ,QADU;YAElB,QAAS;UAFS;QALf;MAFJ,CAFL;MAeN,YAAa;QACT,OAAQ,kBADC;QAET,SAAU,CACN;UACI,OAAQ,QADZ;UAEI,QAAS;QAFb,CADM;MAFD;IAfP,CAFN;IA2BJ,SAAU;MACN,SAAU,SADJ;MAEN,cAAe,YAFT;MAGN,eAAgB,aAHV;MAIN,eAAgB,aAJV;MAKN,kBAAmB,UALb;MAMN,oBAAqB,kBANf;MAON,eAAgB;IAPV;EA3BN,CAFe,EAuCfE,MAvCe,CAAnB;AAyCH"},"metadata":{},"sourceType":"module"}