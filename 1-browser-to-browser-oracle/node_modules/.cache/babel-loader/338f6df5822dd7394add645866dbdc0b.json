{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KeyCache = void 0;\n/**\n * Storage for static keys of previously connected peers.\n */\n\nclass Keycache {\n  constructor() {\n    this.storage = new Map();\n  }\n\n  store(peerId, key) {\n    this.storage.set(peerId.id, key);\n  }\n\n  load(peerId) {\n    var _a;\n\n    if (!peerId) {\n      return null;\n    }\n\n    return (_a = this.storage.get(peerId.id)) !== null && _a !== void 0 ? _a : null;\n  }\n\n  resetStorage() {\n    this.storage.clear();\n  }\n\n}\n\nconst KeyCache = new Keycache();\nexports.KeyCache = KeyCache;","map":{"version":3,"mappings":";;;;;;AAGA;;;;AAGA,MAAMA,QAAN,CAAc;EAAdC;IACmB,eAAU,IAAIC,GAAJ,EAAV;EAgBlB;;EAdQC,KAAK,CAAEC,MAAF,EAAkBC,GAAlB,EAA8B;IACxC,KAAKC,OAAL,CAAaC,GAAb,CAAiBH,MAAM,CAACI,EAAxB,EAA4BH,GAA5B;EACD;;EAEMI,IAAI,CAAEL,MAAF,EAAiB;;;IAC1B,IAAI,CAACA,MAAL,EAAa;MACX,OAAO,IAAP;IACD;;IACD,OAAO,WAAKE,OAAL,CAAaI,GAAb,CAAiBN,MAAM,CAACI,EAAxB,OAA2B,IAA3B,IAA2BG,aAA3B,GAA2BA,EAA3B,GAA+B,IAAtC;EACD;;EAEMC,YAAY;IACjB,KAAKN,OAAL,CAAaO,KAAb;EACD;;AAhBW;;AAmBd,MAAMC,QAAQ,GAAG,IAAId,QAAJ,EAAjB;AAEEe","names":["Keycache","constructor","Map","store","peerId","key","storage","set","id","load","get","_a","resetStorage","clear","KeyCache","exports"],"sources":["/Users/mgrok/Projects/fluence-projects/examples/quickstart/1-browser-to-browser/node_modules/@chainsafe/libp2p-noise/src/keycache.ts"],"sourcesContent":["import { bytes32 } from './@types/basic'\nimport PeerId from 'peer-id'\n\n/**\n * Storage for static keys of previously connected peers.\n */\nclass Keycache {\n  private readonly storage = new Map<Uint8Array, bytes32>()\n\n  public store (peerId: PeerId, key: bytes32): void {\n    this.storage.set(peerId.id, key)\n  }\n\n  public load (peerId?: PeerId): bytes32 | null {\n    if (!peerId) {\n      return null\n    }\n    return this.storage.get(peerId.id) ?? null\n  }\n\n  public resetStorage (): void {\n    this.storage.clear()\n  }\n}\n\nconst KeyCache = new Keycache()\nexport {\n  KeyCache\n}\n"]},"metadata":{},"sourceType":"script"}