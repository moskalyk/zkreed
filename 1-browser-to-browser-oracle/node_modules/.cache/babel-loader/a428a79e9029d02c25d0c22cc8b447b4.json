{"ast":null,"code":"\"use strict\"; /// <reference lib=\"dom\" />\n// tslint:disable no-shadowed-variable\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst isWorkerRuntime = function isWorkerRuntime() {\n  const isWindowContext = typeof self !== \"undefined\" && typeof Window !== \"undefined\" && self instanceof Window;\n  return typeof self !== \"undefined\" && self.postMessage && !isWindowContext ? true : false;\n};\n\nconst postMessageToMaster = function postMessageToMaster(data, transferList) {\n  self.postMessage(data, transferList);\n};\n\nconst subscribeToMasterMessages = function subscribeToMasterMessages(onMessage) {\n  const messageHandler = messageEvent => {\n    onMessage(messageEvent.data);\n  };\n\n  const unsubscribe = () => {\n    self.removeEventListener(\"message\", messageHandler);\n  };\n\n  self.addEventListener(\"message\", messageHandler);\n  return unsubscribe;\n};\n\nexports.default = {\n  isWorkerRuntime,\n  postMessageToMaster,\n  subscribeToMasterMessages\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","isWorkerRuntime","isWindowContext","self","Window","postMessage","postMessageToMaster","data","transferList","subscribeToMasterMessages","onMessage","messageHandler","messageEvent","unsubscribe","removeEventListener","addEventListener","default"],"sources":["/Users/mgrok/Projects/fluence-projects/examples/quickstart/1-browser-to-browser/node_modules/threads/dist/worker/implementation.browser.js"],"sourcesContent":["\"use strict\";\n/// <reference lib=\"dom\" />\n// tslint:disable no-shadowed-variable\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst isWorkerRuntime = function isWorkerRuntime() {\n    const isWindowContext = typeof self !== \"undefined\" && typeof Window !== \"undefined\" && self instanceof Window;\n    return typeof self !== \"undefined\" && self.postMessage && !isWindowContext ? true : false;\n};\nconst postMessageToMaster = function postMessageToMaster(data, transferList) {\n    self.postMessage(data, transferList);\n};\nconst subscribeToMasterMessages = function subscribeToMasterMessages(onMessage) {\n    const messageHandler = (messageEvent) => {\n        onMessage(messageEvent.data);\n    };\n    const unsubscribe = () => {\n        self.removeEventListener(\"message\", messageHandler);\n    };\n    self.addEventListener(\"message\", messageHandler);\n    return unsubscribe;\n};\nexports.default = {\n    isWorkerRuntime,\n    postMessageToMaster,\n    subscribeToMasterMessages\n};\n"],"mappings":"AAAA,a,CACA;AACA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,eAAe,GAAG,SAASA,eAAT,GAA2B;EAC/C,MAAMC,eAAe,GAAG,OAAOC,IAAP,KAAgB,WAAhB,IAA+B,OAAOC,MAAP,KAAkB,WAAjD,IAAgED,IAAI,YAAYC,MAAxG;EACA,OAAO,OAAOD,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,CAACE,WAApC,IAAmD,CAACH,eAApD,GAAsE,IAAtE,GAA6E,KAApF;AACH,CAHD;;AAIA,MAAMI,mBAAmB,GAAG,SAASA,mBAAT,CAA6BC,IAA7B,EAAmCC,YAAnC,EAAiD;EACzEL,IAAI,CAACE,WAAL,CAAiBE,IAAjB,EAAuBC,YAAvB;AACH,CAFD;;AAGA,MAAMC,yBAAyB,GAAG,SAASA,yBAAT,CAAmCC,SAAnC,EAA8C;EAC5E,MAAMC,cAAc,GAAIC,YAAD,IAAkB;IACrCF,SAAS,CAACE,YAAY,CAACL,IAAd,CAAT;EACH,CAFD;;EAGA,MAAMM,WAAW,GAAG,MAAM;IACtBV,IAAI,CAACW,mBAAL,CAAyB,SAAzB,EAAoCH,cAApC;EACH,CAFD;;EAGAR,IAAI,CAACY,gBAAL,CAAsB,SAAtB,EAAiCJ,cAAjC;EACA,OAAOE,WAAP;AACH,CATD;;AAUAd,OAAO,CAACiB,OAAR,GAAkB;EACdf,eADc;EAEdK,mBAFc;EAGdG;AAHc,CAAlB"},"metadata":{},"sourceType":"script"}